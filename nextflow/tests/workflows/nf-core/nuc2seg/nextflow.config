params {
   transcripts = "${launchDir}/nextflow/tests/data/downsampled_transcripts.h5"
   boundaries = "${launchDir}/nextflow/tests/data/downsampled_nucleus_boundaries.h5"
}

process {
    publishDir = { "${params.outdir}" }

    withName: PREPROCESS {
        ext.args = [
            '--sample-area', '8000,1500,8100,1600'
        ].join(' ')
    }

    withName: TRAIN {
        ext.args = [
            '--epochs', '1',
            '--batch-size', '1',
            '--tile-height', '64',
            '--tile-width', '64',
            '--overlap-percentage', '0.25'
        ].join(' ')
    }

    withName: PREDICT {
        ext.args = [
            '--tile-height', '64',
            '--tile-width', '64',
            '--overlap-percentage', '0.25'
        ].join(' ')
    }
}
